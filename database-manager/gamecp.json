{
  "$schema": "../../packages/build/gamecp-manifest.schema.json",
  "extension_id": "database-manager",
  "version": "1.2.20",
  "name": "Database Manager",
  "description": "Provision and manage databases for your game servers. Supports MySQL, PostgreSQL, Redis, and more.",
  "author": "GameCP Team",
  "ui_bundle": "dist/index.js",
  "handlers_bundle": "dist/handlers.js",
  "ui_injection": [
    {
      "method": "MOUNT",
      "target": "server.sidebar.nav",
      "component": "ServerDatabaseNav",
      "order": 60
    },
    {
      "method": "HANDLER",
      "target": "server.page.extensions",
      "component": "DatabaseTab",
      "route_path": "/database-manager"
    },
    {
      "method": "MOUNT",
      "target": "global.sidebar.nav",
      "component": "DatabaseSourcesNav",
      "order": 100
    },
    {
      "method": "AUGMENT",
      "target": "games.edit.form",
      "component": "GameDatabaseSettings",
      "position": "end",
      "order": 50
    },
    {
      "method": "MOUNT",
      "target": "games.edit.navigation",
      "component": "DatabaseNavItem",
      "order": 50
    },
    {
      "method": "HANDLER",
      "target": "dashboard.page",
      "component": "DatabaseSourcesPage",
      "route_path": "/extensions/database-manager"
    }
  ],
  "metadata": {
    "icon": "assets/icon.png",
    "screenshots": [
      "assets/screenshot-overview.png",
      "assets/screenshot-game-server.png",
      "assets/screenshot-admin.png"
    ],
    "category": "utilities",
    "tags": [
      "database",
      "mysql",
      "postgresql",
      "redis",
      "management"
    ],
    "homepage": "https://github.com/GameCP/apps/blob/main/database-manager/README.md",
    "repository": "https://github.com/GameCP/apps/tree/main/database-manager",
    "license": "MIT"
  },
  "internal_logic": {
    "api_routes": [
      {
        "path": "/databases",
        "method": "GET",
        "handler": "getDatabases",
        "handler_export": "getDatabases",
        "description": "Get all databases for a game server"
      },
      {
        "path": "/databases",
        "method": "POST",
        "handler": "createDatabase",
        "handler_export": "createDatabase",
        "description": "Create a new database for a game server"
      },
      {
        "path": "/databases/:id",
        "method": "DELETE",
        "handler": "deleteDatabase",
        "handler_export": "deleteDatabase",
        "description": "Delete a database"
      },
      {
        "path": "/databases/:id/test",
        "method": "POST",
        "handler": "testDatabaseConnection",
        "handler_export": "testDatabaseConnection",
        "description": "Test connection to a provisioned database"
      },
      {
        "path": "/sources",
        "method": "GET",
        "handler": "getSources",
        "handler_export": "getSources",
        "description": "Get configured database sources (admin only)"
      },
      {
        "path": "/sources",
        "method": "POST",
        "handler": "createSource",
        "handler_export": "createSource",
        "description": "Add a database source (admin only)"
      },
      {
        "path": "/sources/:id",
        "method": "PUT",
        "handler": "updateSource",
        "handler_export": "updateSource",
        "description": "Update a database source (admin only)"
      },
      {
        "path": "/sources/:id",
        "method": "DELETE",
        "handler": "deleteSource",
        "handler_export": "deleteSource",
        "description": "Delete a database source (admin only)"
      },
      {
        "path": "/databases/suspend-server",
        "method": "POST",
        "handler": "suspendServerDatabases",
        "handler_export": "suspendServerDatabases",
        "description": "Suspend all databases for a server"
      },
      {
        "path": "/databases/unsuspend-server",
        "method": "POST",
        "handler": "unsuspendServerDatabases",
        "handler_export": "unsuspendServerDatabases",
        "description": "Unsuspend all databases for a server"
      },
      {
        "path": "/sources/test-connection",
        "method": "POST",
        "handler": "testConnection",
        "handler_export": "testConnection",
        "description": "Test connection to a database source (admin only)"
      }
    ]
  },
  "sandbox_config": {
    "permissions": [
      "network.outbound"
    ],
    "db_collections": [
      "databases",
      "database_sources"
    ],
    "node_modules": [
      "mysql2",
      "pg",
      "ioredis"
    ]
  },
  "integrity": "sha384-VCqeMgrit+QO3vmx4JUWMMpMPvv4hd+BaZ0/bS03dW6ZpnmFpElnhqdFNFbdA29S"
}
